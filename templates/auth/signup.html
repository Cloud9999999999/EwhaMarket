<!--회원가입 페이지-->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ewha Market</title>
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/index.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/auth.css') }}"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='styles/global.css') }}"
    />
  </head>

  <body>
    <!-- 헤더 -->
    <header>
      <div class="logo">
        <img
          src="{{ url_for('static', filename='image/Market-logo.png') }}"
          alt="Ewha Market"
        />
      </div>
      <nav>
        <ul class="nav-menu">
          <li><a href="{{ url_for('home') }}">상품 조회</a></li>
          <li><a href="{{ url_for('reviews_index') }}">리뷰 조회</a></li>
          <li><a href="{{ url_for('reviews_write') }}">리뷰 등록</a></li>
          <li><a href="{{ url_for('products_enroll') }}">상품 등록</a></li>
          <li>
            <a href="{{ url_for('login') }}" class="active">회원가입/로그인</a>
          </li>
        </ul>
      </nav>
    </header>

    <main class="auth-main">
      {% with mesg = get_flashed_messages() %} {% if mesg !=[] %}
      <script>
        alert("{{ mesg[0] }}");
      </script>
      {% endif %} {% endwith %}
      <div class="auth-container shadow-div">
        <span class="auth__header">sign up</span>
        <form
          method="post"
          action="{{ url_for('register_user') }}"
          class="auth__form"
        >
          <input
            class="auth__input"
            type="text"
            required
            placeholder="아이디"
            name="id"
          />
          <input
            class="auth__input"
            type="text"
            required
            placeholder="이름"
            name="username"
          />
          <input
            class="auth__input"
            type="number"
            required
            placeholder="전화번호"
            name="number"
          />
          <input
            class="auth__input"
            type="email"
            required
            placeholder="이메일"
            name="email"
          />
          <div class="auth__input-group">
            <input
              class="auth__input auth__input--pw"
              type="password"
              required
              placeholder="비밀번호"
              name="pw"
            />
            <button class="pwshow" type="button">Show</button>
          </div>
          <div class="auth__input-group">
            <input
              class="auth__input auth__input--pw"
              type="password"
              required
              placeholder="비밀번호 재확인"
              name="pw_confirm"
            />
            <button class="pwshow" type="button">Show</button>
          </div>
          <button class="auth__submit submit-btn" type="submit">
            회원가입
          </button>
        </form>
        <div class="auth__toggle">
          <span>이미 계정이 있으신가요?</span>
          <a href="{{ url_for('login') }}">→ 로그인 하기 </a>
        </div>
      </div>
    </main>

    <!-- Footer -->
    <footer><p>@cloud9</p></footer>
    <script>
      const showButtons = document.querySelectorAll(".pwshow");

      showButtons.forEach((btn) => {
        btn.addEventListener("click", () => {
          const input = btn.previousElementSibling;

          if (input.type === "password") {
            input.type = "text";
            btn.textContent = "Hide";
          } else {
            input.type = "password";
            btn.textContent = "Show";
          }
        });
      });
    </script>
  </body>
</html>
