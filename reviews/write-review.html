<!--ë¦¬ë·° ì‘ì„± í˜ì´ì§€-->
<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ewha Market | ë¦¬ë·° ì‘ì„±</title>
    <link rel="stylesheet" href="../styles/global.css" />
    <link rel="stylesheet" href="../styles/index.css" />
    <link rel="stylesheet" href="../styles/auth.css" />

    <style>
      body {
        font-family: "Noto Sans KR", Arial, sans-serif;
        background-color: #ffffff;
        color: #333;
      }

      main {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        align-items: center;
        padding: 60px 20px;
      }

      .review-container {
        background: #fff;
        border-radius: 20px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.05);
        width: 90%;
        max-width: 1100px;
        padding: 40px;
      }

      /* ğŸ”¹ ìƒë‹¨ ìƒí’ˆ ì •ë³´ + ì—…ë¡œë“œ êµ¬ì—­ */
      .top-section {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        flex-wrap: wrap;
        gap: 20px;
        margin-bottom: 40px;
      }

      .product-info {
        display: flex;
        align-items: center;
        gap: 20px;
      }
      .product-info img {
        width: 140px;
        border-radius: 10px;
      }
      .product-text {
        font-size: 16px;
        line-height: 1.8;
      }
      .product-text b {
        display: block;
        font-size: 18px;
        font-weight: 600;
        color: #00462a;
        margin-bottom: 8px;
      }
      .input-field {
        border: none;
        border-radius: 8px;
        background-color: #f6f6f6;
        padding: 8px 12px;
        font-size: 15px;
        color: #333;
        width: 160px;
        margin-left: 5px;
      }

      /* ğŸ”¹ ì—…ë¡œë“œ ì˜ì—­ */
      .upload-area {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 15px;
      }

      .upload-boxes {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .upload-box {
        width: 140px;
        height: 140px;
        border-radius: 12px;
        border: 2px dashed #ccc;
        background-color: #f6f6f6;
        display: flex;
        justify-content: center;
        align-items: center;
        color: #aaa;
        font-size: 38px;
        cursor: pointer;
        transition: border-color 0.3s, transform 0.2s;
      }
      .upload-box:hover {
        border-color: #00462a;
        transform: scale(1.02);
      }
      .upload-box img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 10px;
      }

      .choose-file {
        background-color: #00462a;
        color: #fff;
        border: none;
        border-radius: 30px;
        padding: 10px 25px;
        font-size: 15px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s;
      }
      .choose-file:hover {
        background-color: #00351f;
      }

      /* ğŸ”¹ ë³„ì  */
      .star-rating {
        display: flex;
        justify-content: center;
        margin: 30px 0 25px 0;
      }
      .star-rating span {
        font-size: 34px;
        color: #ccc;
        cursor: pointer;
        transition: color 0.2s;
      }
      .star-rating span.active {
        color: #ffb400;
      }

      /* ğŸ”¹ ë¦¬ë·° ì…ë ¥ */
      .review-title,
      .review-content {
        width: 100%;
        border: none;
        border-radius: 10px;
        background-color: #f6f6f6;
        padding: 15px 18px;
        font-size: 15px;
        font-family: inherit;
        color: #333;
        margin-bottom: 20px;
      }
      .review-content {
        height: 150px;
        resize: none;
      }

      .submit-btn {
        display: block;
        margin: 0 auto;
        background-color: #00462a;
        color: #fff;
        border: none;
        border-radius: 25px;
        padding: 14px 45px;
        font-size: 16px;
        font-weight: 500;
        cursor: pointer;
        transition: background-color 0.3s, transform 0.2s;
      }
      .submit-btn:hover {
        background-color: #00351f;
        transform: translateY(-2px);
      }

      footer {
        background-color: #e8f5e9;
        text-align: center;
        padding: 15px 0;
        color: #777;
        font-size: 14px;
        margin-top: 60px;
      }
    </style>
  </head>

  <body>
    <header>
      <div class="logo">
        <img src="../assets/Market-logo.png" alt="Ewha Market" />
      </div>
      <nav>
        <ul class="nav-menu">
          <li><a href="../index.html">ìƒí’ˆ ì¡°íšŒ</a></li>
          <li><a href="../reviews/index.html">ë¦¬ë·° ì¡°íšŒ</a></li>
          <li><a href="../reviews/write-review.html" class="active">ë¦¬ë·° ë“±ë¡</a></li>
          <li><a href="../products/enroll.html">ìƒí’ˆ ë“±ë¡</a></li>
          <li><a href="../mypage/index.html">ë§ˆì´í˜ì´ì§€</a></li>
          <li><a href="../auth/login.html">íšŒì›ê°€ì…/ë¡œê·¸ì¸</a></li>
        </ul>
      </nav>
    </header>

    <main>
      <div class="review-container">
        <!-- ìƒë‹¨: ìƒí’ˆì •ë³´ + íŒŒì¼ì—…ë¡œë“œ -->
        <div class="top-section">
          <div class="product-info">
            <img
              src="https://static.nike.com/a/images/t_PDP_1280_v1/f_auto,q_auto:eco/2f0c10b2-58f5-42f1-9c0a-293b146fe7db/superstar-82-shoes-3ZFtWb.png"
              alt="ì œí’ˆ ì´ë¯¸ì§€"
            />
            <div class="product-text">
              <b>ì•„ë””ë‹¤ìŠ¤ ìš´ë™í™”</b>
              êµ¬ë§¤ì¼:
              <input type="date" class="input-field" id="purchaseDate" /><br />
              ID:
              <input
                type="text"
                class="input-field"
                id="userId"
                placeholder="ì•„ì´ë”” ì…ë ¥"
              />
            </div>
          </div>

          <div class="upload-area" id="fileUploadArea">
            <div class="upload-boxes">
              <div class="upload-box">+</div>
              <div class="upload-box">+</div>
              <div class="upload-box">+</div>
            </div>
            <button class="choose-file" id="chooseBtn">íŒŒì¼ ì„ íƒ</button>
          </div>
        </div>

        <!-- ë³„ì  -->
        <div class="star-rating" id="starRating">
          <span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span><span>â˜…</span>
        </div>

        <!-- ë¦¬ë·° ì…ë ¥ -->
        <input
          type="text"
          class="review-title"
          placeholder="ë¦¬ë·° ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”!"
        />
        <textarea
          class="review-content"
          placeholder="ìƒí’ˆì€ ì–´ë– ì…¨ë‚˜ìš”? ìì„¸í•œ í›„ê¸°ë¥¼ ë‚¨ê²¨ ì£¼ì„¸ìš”."
        ></textarea>

        <button class="submit-btn">ë“±ë¡í•˜ê¸°</button>
      </div>
    </main>

    <footer>@cloud9</footer>

    <script>
      // ë³„ì  í´ë¦­ ìœ ì§€
      const stars = document.querySelectorAll("#starRating span");
      stars.forEach((star, index) => {
        star.addEventListener("click", () => {
          stars.forEach((s, i) => s.classList.toggle("active", i <= index));
        });
      });

      // ì´ë¯¸ì§€ ì—…ë¡œë“œ (íŒŒì¼ ì„ íƒ + ë¯¸ë¦¬ë³´ê¸°)
      const uploadArea = document.getElementById("fileUploadArea");
      const chooseBtn = document.getElementById("chooseBtn");
      const maxFiles = 10;

      function createPreviewBox(file) {
        const reader = new FileReader();
        const box = document.createElement("div");
        box.classList.add("upload-box");
        reader.onload = (e) => {
          box.innerHTML = `<img src="${e.target.result}" alt="ë¯¸ë¦¬ë³´ê¸°" />`;
        };
        reader.readAsDataURL(file);
        uploadArea.querySelector(".upload-boxes").appendChild(box);
      }

      function handleFiles(files) {
        const existing = uploadArea.querySelectorAll(".upload-box img").length;
        const remaining = maxFiles - existing;
        Array.from(files)
          .slice(0, remaining)
          .forEach((file) => {
            if (file.type.startsWith("image/")) createPreviewBox(file);
          });
      }

      chooseBtn.addEventListener("click", () => {
        const input = document.createElement("input");
        input.type = "file";
        input.accept = "image/*";
        input.multiple = true;
        input.onchange = (e) => handleFiles(e.target.files);
        input.click();
      });

      uploadArea.addEventListener("dragover", (e) => {
        e.preventDefault();
        uploadArea.classList.add("dragover");
      });
      uploadArea.addEventListener("dragleave", () =>
        uploadArea.classList.remove("dragover")
      );
      uploadArea.addEventListener("drop", (e) => {
        e.preventDefault();
        uploadArea.classList.remove("dragover");
        handleFiles(e.dataTransfer.files);
      });
    </script>
  </body>
</html>
